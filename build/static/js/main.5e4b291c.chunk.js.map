{"version":3,"sources":["components/nav.js","components/editPost.js","components/pages/home.js","components/pages/login.js","components/pages/signup.js","components/pages/profile.js","components/pages/createpost.js","components/pages/error.js","components/pages/userProfile.js","components/pages/followingPosts.js","reducers/userReducer.js","App.js","index.js"],"names":["Nav","useContext","UserContext","state","dispatch","useState","search","setSearch","users","setUsers","history","useHistory","searchModal","useRef","useEffect","M","Modal","init","current","renderList","data-target","className","style","color","to","onClick","localStorage","clear","type","push","document","querySelector","classList","toggle","id","ref","placeholder","value","onChange","e","query","target","fetch","method","headers","getItem","body","JSON","stringify","then","res","json","results","user","map","_id","getInstance","close","name","src","pic","alt","height","width","borderRadius","href","EditPost","oldTitle","oldBody","oldImage","itemId","title","setTitle","setBody","image","setImage","url","setUrl","picture","data","error","toast","html","classes","catch","console","log","margin","maxWidth","padding","textAlign","files","FormData","append","repsonse","secure_url","Home","setData","response","result","posts","item","postedBy","float","postid","Authorization","newData","filter","querySelectorAll","forEach","div","y","getBoundingClientRect","top","window","pageYOffset","scrollTo","behavior","editPost","likes","includes","postId","length","comments","slice","reverse","comment","fontWeight","text","fontSize","commentid","onSubmit","preventDefault","leaveComment","Login","password","setPassword","email","setEmail","reg","test","setItem","token","payload","PostData","SignUp","setName","confirmPassword","setConfirmPassword","undefined","uploadData","message","uploadProfilePic","Profile","pics","setPics","modal","myposts","display","justifyContent","borderBottom","following","followers","index","CreatePost","Error","UserProfile","userProfile","setUserProfile","userId","useParams","marginBottom","unFollowId","prevState","newFollower","followId","FollowingPosts","reducer","action","createContext","Routes","parse","exact","path","App","useReducer","Provider","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5e4b291c.chunk.js","sourcesContent":["import React, { useContext, useRef, useEffect, useState } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { UserContext } from '../App'\nimport M from 'materialize-css'\n\nconst Nav = () => {\n    const { state, dispatch } = useContext(UserContext)\n    const [ search, setSearch ] = useState('')\n    const [ users, setUsers ] = useState([])\n    const history = useHistory()\n    const searchModal = useRef(null) \n\n    useEffect(() => {\n      M.Modal.init(searchModal.current)\n    },[])\n\n    const logOut = () => {\n      localStorage.clear()\n      dispatch({ type: \"CLEAR\" })\n      history.push('/login')\n    }\n\n    const renderList = () => {\n      if (state){\n        return [\n          <li key = '11'> <i data-target = 'modal1' className ='material-icons modal-trigger' style = {{color:'black'}}>search</i> </li>,\n          <li key = '0'><Link to=\"/profile\">Profile</Link></li>,\n          <li key = '1'><Link to=\"/create\">New Post</Link></li>,\n          <li key = '2'>\n            <Link to = '#'><button className = 'logout' \n                    onClick = {() => logOut()}> \n                    Log Out\n            </button></Link>\n          </li>\n        ]\n      } else {\n        return [\n          <li key = '3'><Link to=\"/login\">Log In</Link></li>,\n          <li key = '4'><Link to=\"/signup\">Sign Up</Link></li>\n        ]\n      }\n    }\n\n    const mobileMenu = () => {\n      const nav = document.querySelector('.side')\n      nav.classList.toggle('show')\n    }\n\n    const fetchUsers = (query) => {\n      setSearch(query)\n      fetch('search-users', {\n        method: 'post',\n        headers: {\n          \"Content-Type\":\"application/json\",\n          \"authorization\":\"Bearer \" + localStorage.getItem(\"jwt\")\n        },\n        body:JSON.stringify({\n          query\n        })\n      })\n      .then(res => res.json())\n      .then(results => {\n        setUsers(results.user)\n      })\n    }\n \n    return (\n      <>\n      <nav>\n        <div className=\"nav-wrapper white\">\n          <Link to= {state ? \"/\" : \"/login\"} className=\"brand-logo left\"> &nbsp; Memories </Link>\n          <button onClick = {mobileMenu} className=\"sidenav-trigger right\"><i className=\"material-icons\">menu</i></button>                             \n          <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n            {renderList()}\n          </ul>\n        </div>\n      </nav>\n\n      <nav className = 'side'>\n        <div className = \"nav-wrapper white\">\n            <ul id=\"nav-mobile\" className=\"right\">\n             {renderList()}\n            </ul>\n        </div>\n\n        <div id=\"modal1\" className=\"modal\" ref = {searchModal} style ={{ color:'black' }}>\n          <div className=\"modal-content input-field\">\n          <input type = 'text'\n                        placeholder = 'Search Friends'\n                        value = {search}\n                        onChange = {e => fetchUsers(e.target.value)} \n                        />\n                   <ul className=\"collection\">\n                     {users.map(user => {\n                       return <li className=\"collection-item\"\n                                  key = {user._id}>\n                                  <Link to = {user._id !== state._id ? `/profile/${user._id}`: '/profile'} \n                                        onClick = {() => {M.Modal.getInstance(searchModal.current).close()\n                                        setSearch('')\n                                        }}>\n                                    <p>{user.name}</p>\n                                    <img src = {user.pic} alt = {user._id} style = {{ height:'40px', width: '40px', borderRadius: '50%'}} />\n                                  </Link>\n                                  </li>\n                     })} \n                    </ul>\n          </div>\n          <div className=\"modal-footer\">\n            <button href=\"#!\" className=\"modal-close waves-effect waves-green btn-flat\" onClick = {() => setSearch('')}>Close</button>\n          </div>\n        </div>\n      </nav>\n\n      </>\n      \n      \n    )\n}\n\nexport default Nav\n","import React, { useState, useEffect } from 'react'\nimport M from 'materialize-css'\n\nconst EditPost = ({ oldTitle, oldBody, oldImage, itemId }) => { \n    const [ title, setTitle ] = useState(oldTitle)\n    const [ body, setBody ] = useState(oldBody)\n    const [ image, setImage ] = useState(oldImage)\n    const [ url, setUrl ] = useState('')\n\n    useEffect(() => {\n        if(url){\n            fetch(`/editpost/${itemId}`, {\n                method: \"put\",\n                headers: {\n                    \"Content-Type\":\"application/json\",\n                    \"authorization\":\"Bearer \" + localStorage.getItem(\"jwt\")\n                },\n                body: JSON.stringify({\n                    title,\n                    body,\n                    picture: url\n                })\n            }).then(res => res.json())\n            .then(data => {\n                if (data.error){\n                    M.toast({ html: data.error, classes: \"#e53935 red darken-1\" })\n                }\n                else {\n                    M.toast({ html: \"Post Edited Successfully\", classes: \"#76ff03 light-green accent-3 toast-success\"})\n                }\n            }).catch(error => console.log(error))\n        }\n    // eslint-disable-next-line \n    },[url])\n    \n\n    const postDetails = () => {\n        const data = new FormData()\n        data.append(\"file\", image)\n        data.append(\"upload_preset\", \"insta-clone\")\n        data.append(\"cloud_name\", \"insta-clone-dan-wilstrop\")\n        fetch(\"https://api.cloudinary.com/v1_1/insta-clone-dan-wilstrop/image/upload\", {\n            method: \"post\",\n            body: data\n        })\n        .then(repsonse => repsonse.json())\n        .then(data => {\n            setUrl(data.secure_url)\n            console.log(url)\n        })\n        .catch(error => console.log(error))\n    }\n\n    return (\n        <div className = 'card input-field'\n                  style ={{ margin: \"30px auto\",\n                  maxWidth: \"360px\",\n                  padding: \"20px\",\n                  textAlign: \"center\" }} >\n            <input type = 'text'\n                   placeholder = 'Post Title'\n                   value = {title}\n                   onChange = {(e) => setTitle(e.target.value)}\n                   /> \n            <input type = 'text'\n                   placeholder = 'Message'\n                   value = {body}\n                   onChange = {(e) => setBody(e.target.value)}\n                   />\n            <div className = \"file-field input-field\">\n                <div className = \"btn\">\n                    <span> <i className = \"material-icons\"> camera_alt </i> </span>\n                    <input type=\"file\"\n                           onChange = {(e) => setImage(e.target.files[0])}\n                           />\n                </div>\n                <div className = \"file-path-wrapper\">\n                    <input className = \"file-path validate\" type=\"text\" />\n                </div>\n            </div>\n            <button className=\"btn waves-effect waves-light #ff5722 deep-orange\"\n                    onClick = {postDetails}> \n                    Edit Post </button>\n        </div>\n    )\n}\n\nexport default EditPost\n","import React, { useState, useEffect, useContext } from 'react'\nimport {UserContext} from '../../App'\nimport { Link } from 'react-router-dom'\nimport EditPost from '../editPost'\n\nconst Home = () => {\n    const [data, setData] = useState([])\n    const { state } = useContext(UserContext)\n\n    useEffect(() => {\n        fetch('/getsubpost', {\n            headers: {\n                'Authorization': 'Bearer ' + localStorage.getItem('jwt')\n            }\n        }).then(response => response.json())\n          .then(result => {\n              setData(result.posts) \n          })\n    },[data])\n\n    const like = (id) => {\n        fetch('/like', {\n            method: 'PUT',\n            headers: {\n                \"Content-Type\" : \"application/json\",\n                \"Authorization\" : \"Bearer \" + localStorage.getItem('jwt')\n            },\n            body: JSON.stringify({\n                postId: id\n            })\n        }).then(res => res.json())\n          .then(result => {\n            const newData = data.map(item => {\n                if (item._id === result._id) {\n                    return result\n                } else {\n                    return item\n                }\n            })\n            setData(newData)\n          }).catch(error => {\n              console.log(error)\n          })\n    }\n\n    const unlike = (id) => {\n        fetch('/unlike', {\n            method: 'PUT',\n            headers: {\n                \"Content-Type\" : \"application/json\",\n                \"Authorization\" : \"Bearer \" + localStorage.getItem('jwt')\n            },\n            body: JSON.stringify({\n                postId: id\n            })\n        }).then(res => res.json())\n          .then(result => {\n              const newData = data.map(item => {\n                  if (item._id === result._id) {\n                      return result\n                  } else {\n                      return item\n                  }\n              })\n              setData(newData)\n          }).catch(error => {\n            console.log(error)\n        })\n    }\n\n    const leaveComment = (text, postId) => {\n        if (!text){\n            return null\n        }\n        fetch('/comment', {\n            method: 'PUT',\n            headers: {\n                \"Content-Type\" : \"application/json\",\n                \"Authorization\" : \"Bearer \" + localStorage.getItem('jwt')\n            },\n            body: JSON.stringify({\n                postId,\n                text\n            })\n        }).then(res => res.json)\n          .then(result => {\n            const newData = data.map(item => {\n                if (item._id === result._id) {\n                    return result\n                } else {\n                    return item\n                }\n            })\n            setData(newData)\n          }).catch(error => console.log(error))\n    }\n\n    const deletePost = (postid)=>{\n        fetch(`/deletepost/${postid}`,{\n            method:\"delete\",\n            headers:{\n                Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\n            }\n        }).then(res=>res.json())\n        .then(result=>{\n            const newData = data.filter(item=>{\n                return item._id !== result._id\n            })\n            setData(newData)\n        })\n    }\n\n    const deleteComment = (postid, commentid) => {\n        fetch(`/deletecomment/${postid}/${commentid}`, {\n          method: \"delete\",\n          headers: {\n            Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n          },\n        })\n          .then((res) => res.json())\n          .then((result) => {\n                 const newData = data.map((item) => {\n    \n              if (item._id === result._id) {\n                         return result;\n              } else {\n                return item;\n              }\n            });\n            setData(newData);\n          });\n      };\n\n      const editPost = (item) => {\n      const modal = document.querySelectorAll('.edit-modal')\n       modal.forEach(div => {\n           if (div.title === item){\n               div.classList.toggle('hide')\n               const yOffset = -25\n               const y = div.getBoundingClientRect().top + window.pageYOffset + yOffset\n               window.scrollTo({ top:y, behavior:'smooth' })\n           }\n       })\n      }\n    \n    \n    return (\n       <div className = 'home input-field'>\n           {data.map(item => {\n            return (\n                <>\n                <div key = {item._id} className = 'hide edit-modal' title = {item._id}>\n                        <EditPost oldBody = {item.body}\n                        oldTitle = {item.title}\n                        oldImage = {item.picture}\n                        itemId = {item._id}\n                        />\n                </div>\n                <div className = 'card home-card' key = {item._id * 2}>\n                    <h5><Link to = {item.postedBy._id !== state._id ? `/profile/${item.postedBy._id}` : \"/profile\"}>{item.postedBy.name}</Link>\n                    {item.postedBy._id === state._id && <i className ='material-icons' style ={{float: 'right'}} onClick ={() => deletePost(item._id)}>delete</i>}\n                    {item.postedBy._id === state._id && <i className ='material-icons' style ={{float: 'right'}} onClick ={() => editPost(item._id)}>edit</i>}\n                    </h5>\n                    <div className = 'card-image'>\n                        <img src = {item.picture} alt = 'memories' />\n                    </div>\n                    <div className = 'card-content'>\n                        {item.likes.includes(state._id)\n                        ? <i className = \"material-icons\"\n                             onClick = {() => unlike(item._id)}\n                             style = {{ color:'red' }}>\n                             favorite </i>\n                        : <i className = \"material-icons\" \n                             onClick = {() => like(item._id)}> \n                             favorite_border </i>\n                        }\n                        <h6> {item.likes.length} Likes </h6>\n                        <h6> {item.title} </h6>\n                        <p> {item.body} </p>\n                        <div className = 'comments'>\n                            {   // slight fix to get auto scroll without a library\n                                item.comments.slice(0).reverse().map((comment) => {\n                                    return <h6 key={comment._id}>\n                                    <span style={{ fontWeight: \"500\" }}>\n                                      {comment.postedBy.name}\n                                    </span>{\" \"}\n                                    {comment.text}\n                                    {( comment.postedBy._id) === state._id && \n                                    (\n                                      <i\n                                        className=\"material-icons\"\n                                        style={{\n                                          float: \"right\",\n                                          fontSize: \"1.2rem\"\n                                        }}\n                                        onClick={() => deleteComment(item._id, comment._id)}\n                                        >\n                                        delete\n                                      </i>\n                                    )}\n                                  </h6>\n                                })\n                            }\n                        </div>\n                        <form onSubmit = {(e) => {\n                                  e.preventDefault()\n                                  leaveComment(e.target[0].value, item._id)\n                                  e.target[0].value = null\n                              }}\n                              className = 'form'>\n                          <input type = 'text' placeholder = 'Add a comment...' />\n                          <button type = 'submit' className = 'logout'> <i className = \"material-icons\"> chat_bubble </i> </button>\n                        </form>\n                    </div>\n                </div>\n                </>\n            )\n           })}\n       </div>\n    )\n}\n\nexport default Home\n","import React, { useState, useContext } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport {UserContext} from '../../App'\nimport M from 'materialize-css'\n\nconst Login = () => {\n    const { dispatch } = useContext(UserContext)\n    const history = useHistory()\n    const [ password, setPassword ] = useState('')\n    const [ email, setEmail ] = useState('')\n    const reg = /^(([^<>()\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\n    const PostData = () => {  \n        if (!reg.test(email)) {\n           return M.toast({ html: \"Invalid E-Mail\", classes: \"#e53935 red darken-1\" })\n        }\n        fetch('/signin', {\n            method: \"post\",\n            headers: {\n                \"Content-Type\":\"application/json\"\n            },\n            body: JSON.stringify({\n                email,\n                password,\n            })\n        }).then(res => res.json())\n           .then(data => {\n               console.log(data)\n               if (data.error){\n                M.toast({ html: data.error, classes: \"#e53935 red darken-1\" })\n               }\n               else {\n                localStorage.setItem(\"jwt\", data.token)\n                localStorage.setItem(\"user\", JSON.stringify(data.user))\n                dispatch({ type:\"USER\", payload:data.user })\n                M.toast({ html: \"Signed In Successfully\", classes: \"#76ff03 light-green accent-3 toast-success\"})\n                history.push('/')\n               }\n           }).catch(error => console.log(error))\n    }\n\n    return (\n        <div className = 'my-card'>\n            <div className=\"card auth-card input-field\">\n                <h2> Memories </h2>\n                <input type = 'text'\n                        placeholder = 'E-Mail'\n                        value = {email}\n                        onChange = {e => setEmail(e.target.value)} \n                        />\n                <input type = 'password'\n                       placeholder = 'Password'\n                       value = {password}\n                       onChange = {e => setPassword(e.target.value)}\n                        />\n                <button className=\"btn waves-effect waves-light #ff5722 deep-orange\"\n                        onClick = {() => PostData()}>Log In</button>\n                <h5> <Link to = '/signup'> Don't have an account? </Link></h5>\n            </div>\n        </div>\n    )\n}\n\nexport default Login\n","import React, { useState, useEffect } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport M from 'materialize-css'\n\nconst SignUp = () => {\n    const history = useHistory()\n    const [ name, setName ] = useState('')\n    const [ password, setPassword ] = useState('')\n    const [ confirmPassword, setConfirmPassword ] = useState('')\n    const [ image, setImage ] = useState('')\n    const [ url, setUrl ] = useState(undefined)\n    const [ email, setEmail ] = useState('')\n    const reg = /^(([^<>()\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\n    useEffect(() => {\n        if (url) {\n            uploadData()\n        }\n  // eslint-disable-next-line \n    },[url])\n\n\n    const uploadProfilePic = () => {\n        const data = new FormData()\n        data.append(\"file\", image)\n        data.append(\"upload_preset\", \"insta-clone\")\n        data.append(\"cloud_name\", \"insta-clone-dan-wilstrop\")\n        fetch(\"https://api.cloudinary.com/v1_1/insta-clone-dan-wilstrop/image/upload\", {\n            method: \"post\",\n            body: data\n        })\n        .then(repsonse => repsonse.json())\n        .then(data => {\n            setUrl(data.secure_url)\n        })\n        .catch(error => console.log(error))\n    }\n\n    const uploadData = () => {\n        if (!reg.test(email)) {\n            return M.toast({ html: \"Invalid E-Mail\", classes: \"#e53935 red darken-1\" })\n         }\n         fetch('/signup', {\n             method: \"post\",\n             headers: {\n                 \"Content-Type\":\"application/json\"\n             },\n             body: JSON.stringify({\n                 name,\n                 email,\n                 password,\n                 confirmPassword,\n                 pic: url\n             })\n         }).then(res => res.json())\n            .then(data => {\n                if (data.error){\n                 M.toast({ html: data.error, classes: \"#e53935 red darken-1\" })\n                }\n                else {\n                 M.toast({ html: data.message, classes: \"#76ff03 light-green accent-3 toast-success\"})\n                 history.push('/login')\n                }\n            }).catch(error => console.log(error))\n    }\n\n    const PostData = () => {  \n       if (image) {\n           uploadProfilePic()\n       } else {\n           uploadData()\n       }\n    }\n\n    return (\n        <div className = 'my-card'>\n            <div className=\"card auth-card input-field\">\n                <h2> Memories </h2>\n                <input type = 'text'\n                       placeholder = 'Name'\n                       value = {name}\n                       onChange = {e => setName(e.target.value)}\n                        />\n                <input type = 'text'\n                        placeholder = 'E-Mail'\n                        value = {email}\n                        onChange = {e => setEmail(e.target.value)} \n                        />\n                <input type = 'password'\n                       placeholder = 'Password'\n                       value = {password}\n                       onChange = {e => setPassword(e.target.value)}\n                        />\n                 <input type = 'password'\n                        placeholder = 'Confirm Password'\n                        value = {confirmPassword}\n                        onChange = {e => setConfirmPassword(e.target.value)}\n                        />\n                <div className = \"file-field input-field\">\n                    <div className = \"btn\">\n                        <span> <i className = \"material-icons\"> camera_alt </i></span><span className='padding'>Profile Pic</span>\n                        <input type=\"file\"\n                            onChange = {(e) => setImage(e.target.files[0])}\n                            />\n                    </div>\n                    <div className = \"file-path-wrapper\">\n                        <input className = \"file-path validate\" type=\"text\" />\n                </div>\n            </div>\n                <button className=\"btn waves-effect waves-light #ff5722 deep-orange\" onClick = {() => PostData()}> Register </button>\n                <h5> <Link to = '/login'> Already have an account? </Link></h5>\n            </div>\n        </div>\n    )\n}\n \nexport default SignUp","import React, { useEffect, useState, useContext } from 'react'\nimport { UserContext } from '../../App'\n\nconst Profile = () => {\n    const [ pics, setPics ] = useState([])\n    const { state, dispatch } = useContext(UserContext)\n    const [ image, setImage ] = useState('')\n    const modal = document.querySelector('.modal-wrapper')\n\n    useEffect(() => {\n        fetch('/mypost', {\n            headers: {\n                'Authorization': 'Bearer ' + localStorage.getItem('jwt')\n            }\n        }).then(response => response.json())\n          .then(result => {\n              setPics(result.myposts)\n          })\n    },[])\n\n    useEffect(() => {\n        if(image){\n            const data = new FormData()\n            data.append(\"file\", image)\n            data.append(\"upload_preset\", \"insta-clone\")\n            data.append(\"cloud_name\", \"insta-clone-dan-wilstrop\")\n            fetch(\"https://api.cloudinary.com/v1_1/insta-clone-dan-wilstrop/image/upload\", {\n                method: \"post\",\n                body: data\n            })\n            .then(repsonse => repsonse.json())\n            .then(data => {\n                fetch('/updateprofilepic', {\n                    method: 'put',\n                    headers: {\n                        \"Content-Type\":\"application/json\",\n                        \"authorization\":\"Bearer \" + localStorage.getItem(\"jwt\")\n                    },\n                    body: JSON.stringify({ pic:data.url })\n                })\n                .then(response => response.json())\n                .then(result => {\n                    console.log(result)\n                    localStorage.setItem('user', JSON.stringify({ ...state, pic:result.pic }))\n                    dispatch({ type:'UPDATEPROFILEPIC', payload:result.pic })\n                })\n                modal.style.display = 'none'\n            })\n            .catch(error => console.log(error))\n        }\n     // eslint-disable-next-line \n    },[image])\n\n    const showModal = () => {\n        modal.style.display = 'flex'\n    }\n\n    return (\n       <div style = {{ maxWidth: \"770px\", margin: \"0px auto\"}}>\n           <div style = {{\n               display: \"flex\",\n               justifyContent: \"space-around\",\n               margin: \"18px 0px\",\n               borderBottom: \"1px solid grey\"\n           }}>\n               <div>\n                   <img style = {{width:'140px', height:'140px', borderRadius: '80px'}} alt = 'profile'\n                    src = {state ? state.pic : \"Loading...\"} />\n                    <i className='material-icons upload-pic' onClick = {() => showModal()}>add</i>\n               </div>\n               <div>\n                   <h4> {state? state.name : \"Loading\"} </h4>\n                   <h5> {state? state.email : \"Loading\"} </h5>\n                    <div style ={{ display: \"flex\", justifyContent: \"space-around\", width: \"100%\" }}>\n                        <h6> {pics.length} Posts </h6> \n                        <h6> {state ? state.following.length -1 : \"0\"} Following </h6> \n                        <h6> {state ? state.followers.length : \"0\"} Followers </h6> \n                    </div>\n               </div>\n           </div>\n           <div className = 'modal-wrapper'>\n             <div className=\"card auth-card input-field modal\"></div>\n                <div className = \"file-field input-field\">\n                    <div className = \"btn\">\n                        <span> <i className = \"material-icons\"> camera_alt </i></span>\n                        <input type=\"file\"\n                            onChange = {(e) => setImage(e.target.files[0])}\n                        />\n                     </div>\n                    </div>\n                    <div className = \"file-path-wrapper\">\n                        <input className = \"file-path validate\" type=\"text\" />\n                    </div>\n            </div>\n       <div className =\"gallery\">\n           {pics.map((item, index) => {\n               return (\n                   <img className = 'item'\n                        key = {index}\n                        alt = 'grid'\n                        src = {item.picture}/>\n               )\n           })}\n        </div>\n       </div>\n    )\n}\n\nexport default Profile\n","import React, { useState, useEffect } from 'react'\nimport M from 'materialize-css'\nimport { useHistory } from 'react-router'\n\nconst CreatePost = () => {\n    const history = useHistory() \n    const [ title, setTitle ] = useState('')\n    const [ body, setBody ] = useState('')\n    const [ image, setImage ] = useState('')\n    const [ url, setUrl ] = useState('')\n\n    useEffect(() => {\n        if(url){\n            fetch('/createpost', {\n                method: \"post\",\n                headers: {\n                    \"Content-Type\":\"application/json\",\n                    \"authorization\":\"Bearer \" + localStorage.getItem(\"jwt\")\n                },\n                body: JSON.stringify({\n                    title,\n                    body,\n                    picture: url\n                })\n            }).then(res => res.json())\n            .then(data => {\n                if (data.error){\n                    M.toast({ html: data.error, classes: \"#e53935 red darken-1\" })\n                }\n                else {\n                    M.toast({ html: \"Post Created Successfully\", classes: \"#76ff03 light-green accent-3 toast-success\"})\n                    history.push('/')\n                }\n            }).catch(error => console.log(error))\n        }\n    // eslint-disable-next-line \n    },[url])\n    \n\n    const postDetails = () => {\n        const data = new FormData()\n        data.append(\"file\", image)\n        data.append(\"upload_preset\", \"insta-clone\")\n        data.append(\"cloud_name\", \"insta-clone-dan-wilstrop\")\n        fetch(\"https://api.cloudinary.com/v1_1/insta-clone-dan-wilstrop/image/upload\", {\n            method: \"post\",\n            body: data\n        })\n        .then(repsonse => repsonse.json())\n        .then(data => {\n            setUrl(data.secure_url)\n        })\n        .catch(error => console.log(error))\n    }\n\n    return (\n        <div className = 'card input-field'\n        style ={{ margin: \"30px auto\",\n                  maxWidth: \"360px\",\n                  padding: \"20px\",\n                  textAlign: \"center\" }} >\n            <input type = 'text'\n                   placeholder = 'Post Title'\n                   value = {title}\n                   onChange = {(e) => setTitle(e.target.value)}\n                   /> \n            <input type = 'text'\n                   placeholder = 'Message'\n                   value = {body}\n                   onChange = {(e) => setBody(e.target.value)}\n                   />\n            <div className = \"file-field input-field\">\n                <div className = \"btn\">\n                    <span> <i className = \"material-icons\"> camera_alt </i> </span>\n                    <input type=\"file\"\n                           onChange = {(e) => setImage(e.target.files[0])}\n                           />\n                </div>\n                <div className = \"file-path-wrapper\">\n                    <input className = \"file-path validate\" type=\"text\" />\n                </div>\n            </div>\n            <button className=\"btn waves-effect waves-light #ff5722 deep-orange\"\n                    onClick = {postDetails}> \n                    Create Post </button>\n        </div>\n    )\n}\n\nexport default CreatePost\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst Error = () => {\n    return (\n        <div className = 'error'>\n            <h2> 404 - Page not Found </h2>\n            <button className=\"btn waves-effect waves-light #ff5722 deep-orange\">\n                <Link to = '/'> Home </Link>\n            </button>\n        </div>\n    )\n}\n\nexport default Error\n","import React, { useEffect, useState, useContext } from 'react'\nimport { UserContext } from '../../App'\nimport { useParams } from 'react-router-dom'\n\nconst UserProfile = () => {\n    const [ userProfile, setUserProfile ] = useState(null)\n    const { userId } = useParams()\n    const { state, dispatch } = useContext(UserContext)\n    \n    useEffect(() => {\n        fetch(`/user/${userId}`, {\n            headers: {\n                'Authorization': 'Bearer ' + localStorage.getItem('jwt')\n            }\n        }).then(response => response.json())\n          .then(result => {\n              setUserProfile(result)\n          })\n    },[userId])\n\n    const followUser = ()=>{\n        fetch('/follow',{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \"+localStorage.getItem('jwt')\n            },\n            body:JSON.stringify({\n                followId:userId\n            })\n        }).then(res=>res.json())\n        .then(data=>{\n        \n            dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}})\n             localStorage.setItem(\"user\",JSON.stringify(data))\n             setUserProfile((prevState)=>{\n                 return {\n                     ...prevState,\n                     user:{\n                         ...prevState.user,\n                         followers:[...prevState.user.followers,data._id]\n                        }\n                 }\n             })\n        })\n    }\n\n    const unFollowUser = ()=>{\n        fetch('/unfollow',{\n            method:\"put\",\n            headers:{\n                \"Content-Type\":\"application/json\",\n                \"Authorization\":\"Bearer \"+localStorage.getItem('jwt')\n            },\n            body:JSON.stringify({\n                unFollowId:userId\n            })\n        }).then(res=>res.json())\n        .then(data=>{\n            dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}})\n             localStorage.setItem(\"user\",JSON.stringify(data))\n             setUserProfile((prevState)=>{\n                const newFollower = prevState.user.followers.filter(item=>item !== data._id )\n                 return {\n                     ...prevState,\n                     user:{\n                         ...prevState.user,\n                         followers:newFollower\n                        }\n                 }\n             })\n        })\n    }\n\n    return (\n        <>\n        {userProfile ? \n            <div style = {{ maxWidth: \"770px\", margin: \"0px auto\"}}>\n            <div style = {{\n                display: \"flex\",\n                justifyContent: \"space-around\",\n                margin: \"18px 0px\",\n                borderBottom: \"1px solid grey\"\n            }}>\n                <div>\n                    <img style = {{width:'140px', height:'140px', borderRadius: '80px'}} alt = 'profile'\n                     src  = {userProfile.user.pic} />\n                </div>\n                <div>\n                    <h4> {userProfile.user.name} </h4>\n                    <h6> {userProfile.user.email} </h6>\n                     <div style ={{ display: \"flex\", justifyContent: \"space-around\", width: \"100%\" }}>\n                         {userProfile.posts.length === 1 ? <h6> {userProfile.posts.length} Post </h6> : <h6> {userProfile.posts.length} Posts </h6> } \n                         <h6> {userProfile.user.following.length -1 } Following </h6> \n                         <h6> {userProfile.user.followers.length} Followers </h6> \n                     </div>\n                     {!state.following.includes(userId) ? \n                        <button className=\"btn waves-effect waves-light #ff5722 deep-orange\"\n                        style ={{ marginBottom: '0.6rem'}}\n                        onClick = {() => followUser()}> Follow </button>\n                      :\n                      <button className=\"btn waves-effect waves-light #ff5722 deep-orange\"\n                      style ={{ marginBottom: '0.6rem'}}\n                      onClick = {() => unFollowUser()}> Unfollow </button>\n                    \n                     }\n                </div>\n            </div>\n        <div className =\"gallery\">\n            {userProfile.posts.map((item, index) => {\n                return (\n                    <img className = 'item'\n                         key = {index}\n                         alt = 'grid'\n                         src = {item.picture}/>\n                )\n            })}\n         </div>\n        </div>\n        \n        : <h2> Loading... </h2>}\n       \n       </>\n    )\n}\n\nexport default UserProfile\n","import React, { useState, useEffect, useContext } from 'react'\nimport {UserContext} from '../../App'\nimport { Link } from 'react-router-dom'\n\nconst FollowingPosts = () => {\n    const [data, setData] = useState([])\n    const { state } = useContext(UserContext)\n\n    useEffect(() => {\n        fetch('/getsubpost', {\n            headers: {\n                'Authorization': 'Bearer ' + localStorage.getItem('jwt')\n            }\n        }).then(response => response.json())\n          .then(result => {\n              setData(result.posts)\n          })\n    },[data])\n\n    const like = (id) => {\n        fetch('/like', {\n            method: 'PUT',\n            headers: {\n                \"Content-Type\" : \"application/json\",\n                \"Authorization\" : \"Bearer \" + localStorage.getItem('jwt')\n            },\n            body: JSON.stringify({\n                postId: id\n            })\n        }).then(res => res.json())\n          .then(result => {\n            const newData = data.map(item => {\n                if (item._id === result._id) {\n                    return result\n                } else {\n                    return item\n                }\n            })\n            setData(newData)\n          }).catch(error => {\n              console.log(error)\n          })\n    }\n\n    const unlike = (id) => {\n        fetch('/unlike', {\n            method: 'PUT',\n            headers: {\n                \"Content-Type\" : \"application/json\",\n                \"Authorization\" : \"Bearer \" + localStorage.getItem('jwt')\n            },\n            body: JSON.stringify({\n                postId: id\n            })\n        }).then(res => res.json())\n          .then(result => {\n              const newData = data.map(item => {\n                  if (item._id === result._id) {\n                      return result\n                  } else {\n                      return item\n                  }\n              })\n              setData(newData)\n          }).catch(error => {\n            console.log(error)\n        })\n    }\n\n    const leaveComment = (text, postId) => {\n        if (!text){\n            return null\n        }\n        fetch('/comment', {\n            method: 'PUT',\n            headers: {\n                \"Content-Type\" : \"application/json\",\n                \"Authorization\" : \"Bearer \" + localStorage.getItem('jwt')\n            },\n            body: JSON.stringify({\n                postId,\n                text\n            })\n        }).then(res => res.json)\n          .then(result => {\n            const newData = data.map(item => {\n                if (item._id === result._id) {\n                    return result\n                } else {\n                    return item\n                }\n            })\n            setData(newData)\n          }).catch(error => console.log(error))\n    }\n\n    const deletePost = (postid)=>{\n        fetch(`/deletepost/${postid}`,{\n            method:\"delete\",\n            headers:{\n                Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\n            }\n        }).then(res=>res.json())\n        .then(result=>{\n            const newData = data.filter(item=>{\n                return item._id !== result._id\n            })\n            setData(newData)\n        })\n    }\n\n    const deleteComment = (postid, commentid) => {\n   \n        fetch(`/deletecomment/${postid}/${commentid}`, {\n          method: \"delete\",\n          headers: {\n            Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n          },\n        })\n          .then((res) => res.json())\n          .then((result) => {\n                 const newData = data.map((item) => {\n    \n              if (item._id === result._id) {\n                         return result;\n              } else {\n                return item;\n              }\n            });\n            setData(newData);\n          });\n      };\n    \n    \n    return (\n       <div className = 'home input-field'>\n           {data.slice(0).reverse().map(item => {\n            return (\n                <div className = 'card home-card' key = {item._id}>\n                    <h5><Link to = {item.postedBy._id !== state._id ? `/profile/${item.postedBy._id}` : \"/profile\"}>{item.postedBy.name}</Link>\n                    {item.postedBy._id === state._id && <i className ='material-icons' style ={{float: 'right'}} onClick ={() => deletePost(item._id)}>delete</i>}\n                    </h5>\n                    <div className = 'card-image'>\n                        <img src = {item.picture} alt = 'memories' />\n                    </div>\n                    <div className = 'card-content'>\n                        {item.likes.includes(state._id)\n                        ? <i className = \"material-icons\"\n                             onClick = {() => unlike(item._id)}\n                             style = {{ color:'red' }}>\n                             favorite </i>\n                        : <i className = \"material-icons\" \n                             onClick = {() => like(item._id)}> \n                             favorite_border </i>\n                        }\n                        <h6> {item.likes.length} Likes </h6>\n                        <h6> {item.title} </h6>\n                        <p> {item.body} </p>\n                        <div className = 'comments'>\n                            {   // slight fix to get auto scroll without a library\n                                item.comments.slice(0).reverse().map((comment) => {\n                                    return <h6 key={comment._id}>\n                                    <span style={{ fontWeight: \"500\" }}>\n                                      {comment.postedBy.name}\n                                    </span>{\" \"}\n                                    {comment.text}\n                                    {(item.postedBy._id || comment.postedBy._id) === state._id && \n                                    (\n                                      <i\n                                        className=\"material-icons\"\n                                        style={{\n                                          float: \"right\",\n                                          fontSize: \"1.2rem\"\n                                        }}\n                                        onClick={() => deleteComment(item._id, comment._id)}\n                                      >\n                                        delete\n                                      </i>\n                                    )}\n                                  </h6>\n                                })\n                            }\n                        </div>\n                        <form onSubmit = {(e) => {\n                                  e.preventDefault()\n                                  leaveComment(e.target[0].value, item._id)\n                                  e.target[0].value = null\n                              }}\n                              className = 'form'>\n                          <input type = 'text' placeholder = 'Add a comment...' />\n                          <button type = 'submit' className = 'logout'> <i className = \"material-icons\"> chat_bubble </i> </button>\n                        </form>\n                    </div>\n                </div>\n            )\n           })}\n       </div>\n    )\n}\n\nexport default FollowingPosts","export const initialState = null\n\nexport const reducer = (state, action) => {\n    if(action.type === 'USER'){\n        return action.payload\n    }\n    if (action.type === 'CLEAR'){\n        return null\n    }\n    if(action.type === \"UPDATE\"){\n        return {\n            ...state,\n            followers: action.payload.followers,\n            following: action.payload.following\n        }\n    }\n    if(action.type === \"UPDATEPROFILEPIC\"){\n        return {\n            ...state,\n            pic: action.payload\n        }\n    }\n    return state\n}","import { createContext, useEffect, useReducer, useContext } from 'react'\nimport './App.css';\nimport Nav from './components/nav'\nimport Home from './components/pages/home'\nimport Login from './components/pages/login'\nimport SignUp from './components/pages/signup'\nimport Profile from './components/pages/profile'\nimport CreatePost from './components/pages/createpost'\nimport Error from './components/pages/error'\nimport UserProfile from './components/pages/userProfile'\nimport FollowingPosts from './components/pages/followingPosts';\nimport {reducer, initialState}from './reducers/userReducer'\nimport {BrowserRouter, Route, Switch, useHistory} from 'react-router-dom'\n\nexport const UserContext = createContext()\n\nconst Routes = () => {\n  const history = useHistory()\n  const { dispatch } = useContext(UserContext)\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"))\n    if (user){\n      dispatch({ type:\"USER\", payload:user })\n    } else {\n      history.push('/login')\n    }\n  // eslint-disable-next-line \n  },[])\n\n  return (\n    <Switch>\n    <Route exact path = '/'>\n        <Home />\n      </Route>\n      <Route path = '/signup'>\n        <SignUp />\n      </Route>\n      <Route path = '/login'>\n        <Login />\n      </Route>\n      <Route exact path = '/profile'>\n        <Profile />\n      </Route>\n      <Route path = '/create'>\n        <CreatePost />\n      </Route>\n      <Route path = '/profile/:userId'>\n        <UserProfile />\n      </Route>\n      <Route path = '/followingposts'>\n        <FollowingPosts />\n      </Route>\n      <Route path = '*'>\n        <Error />\n      </Route>\n    </Switch>\n  )\n}\n\nconst App = () => {\n  const [ state, dispatch ] = useReducer(reducer,initialState)\n  return (\n    <UserContext.Provider value = {{ state,dispatch }}>\n      <BrowserRouter>\n        <Nav />\n        <Routes />\n      </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}